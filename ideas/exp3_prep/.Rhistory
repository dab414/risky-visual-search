library(tidyverse)
## the goal here is to take the gamble outcomes from pachur et al (on scale -100 to 100) and convert them to scale -64 to 64
d <- read.csv('gambles_formatted.csv')
head()
head(d)
d %>%
gather(var, value, gamblea_outcome1:gambleb_probability2) %>%
head()
d %>%
gather(var, value, gamblea_outcome1:gambleb_probability2) %>%
separate(var, into = c('gamble', 'outcome'), sep = '_') %>%
head()
d %>%
gather(var, value, gamblea_outcome1:gambleb_probability2) %>%
separate(var, into = c('gamble', 'outcome'), sep = '_') %>%
spread(outcome, value) %>%
head()
d %>%
gather(var, value, gamblea_outcome1:gambleb_probability2) %>%
separate(var, into = c('gamble', 'outcome'), sep = '_') %>%
spread(outcome, value) %>%
gather(outcome_number, outcome, outcome1:outcome2) %>%
head()
d %>%
gather(var, value, gamblea_outcome1:gambleb_probability2) %>%
separate(var, into = c('gamble', 'outcome'), sep = '_') %>%
spread(outcome, value) %>%
gather(outcome_number, outcome, outcome1:outcome2) %>%
gather(probability_number, probability, probability1:probability2) %>%
head()
t <- d %>%
gather(var, value, gamblea_outcome1:gambleb_probability2) %>%
separate(var, into = c('gamble', 'outcome'), sep = '_') %>%
spread(outcome, value) %>%
gather(outcome_number, outcome, outcome1:outcome2) %>%
gather(probability_number, probability, probability1:probability2)
range(t$outcome)
45/100
100/.45
100/45
100/x = 45/100
45/100
1/.45
100/2.22222
-100/2.22222
d %>%
gather(var, value, gamblea_outcome1:gambleb_probability2) %>%
separate(var, into = c('gamble', 'outcome'), sep = '_') %>%
spread(outcome, value) %>%
gather(outcome_number, outcome, outcome1:outcome2) %>%
gather(probability_number, probability, probability1:probability2) %>%
mutate(outcome_scaled = outcome / (1/.45)) %>%
range(outcome_scaled)
d %>%
gather(var, value, gamblea_outcome1:gambleb_probability2) %>%
separate(var, into = c('gamble', 'outcome'), sep = '_') %>%
spread(outcome, value) %>%
gather(outcome_number, outcome, outcome1:outcome2) %>%
gather(probability_number, probability, probability1:probability2) %>%
mutate(outcome_scaled = outcome / (1/.45)) %>%
range(.$outcome_scaled)
t <- d %>%
gather(var, value, gamblea_outcome1:gambleb_probability2) %>%
separate(var, into = c('gamble', 'outcome'), sep = '_') %>%
spread(outcome, value) %>%
gather(outcome_number, outcome, outcome1:outcome2) %>%
gather(probability_number, probability, probability1:probability2) %>%
mutate(outcome_scaled = outcome / (1/.45)) #%>%
range(t$outcome_scaled)
t$outcome_scaled
t <- d %>%
gather(var, value, gamblea_outcome1:gambleb_probability2) %>%
separate(var, into = c('gamble', 'outcome'), sep = '_') %>%
spread(outcome, value) %>%
gather(outcome_number, outcome, outcome1:outcome2) %>%
gather(probability_number, probability, probability1:probability2) %>%
mutate(outcome_scaled = round(outcome / (1/.45))) #%>%
t$outcome_scaled
64/100
100/1/0.64
100/(1/0.64)
t <- d %>%
gather(var, value, gamblea_outcome1:gambleb_probability2) %>%
separate(var, into = c('gamble', 'outcome'), sep = '_') %>%
spread(outcome, value) %>%
gather(outcome_number, outcome, outcome1:outcome2) %>%
gather(probability_number, probability, probability1:probability2) %>%
mutate(outcome_scaled = round(outcome / (1/64))) #%>%
t$outcome_scaled
100 / (1/.64)
t <- d %>%
gather(var, value, gamblea_outcome1:gambleb_probability2) %>%
separate(var, into = c('gamble', 'outcome'), sep = '_') %>%
spread(outcome, value) %>%
gather(outcome_number, outcome, outcome1:outcome2) %>%
gather(probability_number, probability, probability1:probability2) %>%
mutate(outcome_scaled = round(outcome / (1/.64))) #%>%
t$outcome_scaled
t <- d %>%
gather(var, value, gamblea_outcome1:gambleb_probability2) %>%
separate(var, into = c('gamble', 'outcome'), sep = '_') %>%
spread(outcome, value) %>%
gather(outcome_number, outcome, outcome1:outcome2) %>%
gather(probability_number, probability, probability1:probability2) %>%
mutate(outcome_scaled = max(round(outcome / (1/.64)), 1)) #%>%
t$outcome_scaled
t <- d %>%
gather(var, value, gamblea_outcome1:gambleb_probability2) %>%
separate(var, into = c('gamble', 'outcome'), sep = '_') %>%
spread(outcome, value) %>%
gather(outcome_number, outcome, outcome1:outcome2) %>%
gather(probability_number, probability, probability1:probability2) %>%
mutate(outcome_scaled = ifelse(round(outcome / (1/.64)) == 0, 1, round(outcome / (1/.64)))) #%>%
t$outcome_scaled
summary(factor(t$outcome_scaled))
hist(t$outcome_scaled)
t <- d %>%
gather(var, value, gamblea_outcome1:gambleb_probability2) %>%
separate(var, into = c('gamble', 'outcome'), sep = '_') %>%
spread(outcome, value) %>%
gather(outcome_number, outcome, outcome1:outcome2) %>%
gather(probability_number, probability, probability1:probability2) %>%
mutate(outcome_scaled = ifelse(round(outcome / scaling_factor) == 0, 1, round(outcome / (1/.64)))) #%>%
scaling_factor <- 1 / (100 / 64)
t <- d %>%
gather(var, value, gamblea_outcome1:gambleb_probability2) %>%
separate(var, into = c('gamble', 'outcome'), sep = '_') %>%
spread(outcome, value) %>%
gather(outcome_number, outcome, outcome1:outcome2) %>%
gather(probability_number, probability, probability1:probability2) %>%
mutate(outcome_scaled = ifelse(round(outcome / scaling_factor) == 0, 1, round(outcome / (1/.64)))) #%>%
t$outcome_scaled
d %>%
gather(var, value, gamblea_outcome1:gambleb_probability2) %>%
separate(var, into = c('gamble', 'outcome'), sep = '_') %>%
spread(outcome, value) %>%
gather(outcome_number, outcome, outcome1:outcome2) %>%
gather(probability_number, probability, probability1:probability2) %>%
mutate(outcome_scaled = ifelse(round(outcome / scaling_factor) == 0, 1, round(outcome / (1/.64)))) %>%
head()
d %>%
gather(var, value, gamblea_outcome1:gambleb_probability2) %>%
separate(var, into = c('gamble', 'outcome'), sep = '_') %>%
spread(outcome, value) %>%
gather(outcome_number, outcome, outcome1:outcome2) %>%
gather(probability_number, probability, probability1:probability2) %>%
mutate(outcome_scaled = ifelse(round(outcome / scaling_factor) == 0, 1, round(outcome / (1/.64)))) %>%
select(-outcome) %>%
rename(outcome = outcome_scaled) %>%
head()
d %>%
gather(var, value, gamblea_outcome1:gambleb_probability2) %>%
separate(var, into = c('gamble', 'outcome'), sep = '_') %>%
spread(outcome, value) %>%
gather(outcome_number, outcome, outcome1:outcome2) %>%
gather(probability_number, probability, probability1:probability2) %>%
mutate(outcome_scaled = ifelse(round(outcome / scaling_factor) == 0, 1, round(outcome / (1/.64)))) %>%
select(-outcome) %>%
rename(outcome = outcome_scaled) %>%
spread(probability_number, probability) %>%
spread(outcome_number, outcome) %>%
head()
d %>%
gather(var, value, gamblea_outcome1:gambleb_probability2) %>%
separate(var, into = c('gamble', 'outcome'), sep = '_') %>%
spread(outcome, value) %>%
gather(outcome_number, outcome, outcome1:outcome2) %>%
gather(probability_number, probability, probability1:probability2) %>%
mutate(outcome_scaled = ifelse(round(outcome / scaling_factor) == 0, 1, round(outcome / (1/.64)))) %>%
select(-outcome) %>%
rename(outcome = outcome_scaled) %>%
spread(probability_number, probability) %>%
spread(outcome_number, outcome) %>%
gather(var, value, probability1:outcome2) %>%
head()
d %>%
gather(var, value, gamblea_outcome1:gambleb_probability2) %>%
separate(var, into = c('gamble', 'outcome'), sep = '_') %>%
spread(outcome, value) %>%
gather(outcome_number, outcome, outcome1:outcome2) %>%
gather(probability_number, probability, probability1:probability2) %>%
mutate(outcome_scaled = ifelse(round(outcome / scaling_factor) == 0, 1, round(outcome / (1/.64)))) %>%
select(-outcome) %>%
rename(outcome = outcome_scaled) %>%
spread(probability_number, probability) %>%
spread(outcome_number, outcome) %>%
gather(var, value, probability1:outcome2) %>%
unite(group, gamble:var) %>%
head()
d %>%
gather(var, value, gamblea_outcome1:gambleb_probability2) %>%
separate(var, into = c('gamble', 'outcome'), sep = '_') %>%
spread(outcome, value) %>%
gather(outcome_number, outcome, outcome1:outcome2) %>%
gather(probability_number, probability, probability1:probability2) %>%
mutate(outcome_scaled = ifelse(round(outcome / scaling_factor) == 0, 1, round(outcome / (1/.64)))) %>%
select(-outcome) %>%
rename(outcome = outcome_scaled) %>%
spread(probability_number, probability) %>%
spread(outcome_number, outcome) %>%
gather(var, value, probability1:outcome2) %>%
unite(group, gamble:var) %>%
spread(group, value) %>%
head()
d <- d %>%
gather(var, value, gamblea_outcome1:gambleb_probability2) %>%
separate(var, into = c('gamble', 'outcome'), sep = '_') %>%
spread(outcome, value) %>%
gather(outcome_number, outcome, outcome1:outcome2) %>%
gather(probability_number, probability, probability1:probability2) %>%
mutate(outcome_scaled = ifelse(round(outcome / scaling_factor) == 0, 1, round(outcome / (1/.64)))) %>%
select(-outcome) %>%
rename(outcome = outcome_scaled) %>%
spread(probability_number, probability) %>%
spread(outcome_number, outcome) %>%
gather(var, value, probability1:outcome2) %>%
unite(group, gamble:var) %>%
spread(group, value)
write.csv(d, 'gambles_scaled.csv', row.names = FALSE)
q()
62/2
#d <-
t <- d %>%
gather(var, value, gamblea_outcome1:gambleb_probability2) %>%
separate(var, into = c('gamble', 'outcome'), sep = '_') %>%
spread(outcome, value) %>%
gather(outcome_number, outcome, outcome1:outcome2) %>%
gather(probability_number, probability, probability1:probability2) %>%
mutate(outcome_scaled = round(outcome / scaling_factor) + 31)
library(tidyverse)
## the goal here is to take the gamble outcomes from pachur et al (on scale -100 to 100) and convert them to scale 1 to 63
d <- read.csv('gambles_formatted.csv')
head(d)
scaling_factor <- 1 / (100 / 31)
#d <-
t <- d %>%
gather(var, value, gamblea_outcome1:gambleb_probability2) %>%
separate(var, into = c('gamble', 'outcome'), sep = '_') %>%
spread(outcome, value) %>%
gather(outcome_number, outcome, outcome1:outcome2) %>%
gather(probability_number, probability, probability1:probability2) %>%
mutate(outcome_scaled = round(outcome / scaling_factor) + 31)
range(t$outcome_scaled)
scaling_factor <- 1 / (100 / 62)
#d <-
t <- d %>%
gather(var, value, gamblea_outcome1:gambleb_probability2) %>%
separate(var, into = c('gamble', 'outcome'), sep = '_') %>%
spread(outcome, value) %>%
gather(outcome_number, outcome, outcome1:outcome2) %>%
gather(probability_number, probability, probability1:probability2) %>%
mutate(outcome_scaled = round(outcome / scaling_factor) + 31)
range(t$outcome_scaled)
range(d$outcome_scaled)
head(d)
#d <-
t <- d %>%
gather(var, value, gamblea_outcome1:gambleb_probability2) %>%
separate(var, into = c('gamble', 'outcome'), sep = '_') %>%
spread(outcome, value) %>%
gather(outcome_number, outcome, outcome1:outcome2) %>%
gather(probability_number, probability, probability1:probability2)
range(t$outcome)
62/2
scaling_factor <- 1 / (31/100)
scaling_factor
100 / scaling_factor
#d <-
t <- d %>%
gather(var, value, gamblea_outcome1:gambleb_probability2) %>%
separate(var, into = c('gamble', 'outcome'), sep = '_') %>%
spread(outcome, value) %>%
gather(outcome_number, outcome, outcome1:outcome2) %>%
gather(probability_number, probability, probability1:probability2) %>%
mutate(outcome_scaled = round(outcome / scaling_factor) + 32)
range(t$outcome_scaled)
library(tidyverse)
## the goal here is to take the gamble outcomes from pachur et al (on scale -100 to 100) and convert them to scale 1 to 63
d <- read.csv('gambles_formatted.csv')
head(d)
scaling_factor <- 1 / (31/100)
d <-  d %>%
gather(var, value, gamblea_outcome1:gambleb_probability2) %>%
separate(var, into = c('gamble', 'outcome'), sep = '_') %>%
spread(outcome, value) %>%
gather(outcome_number, outcome, outcome1:outcome2) %>%
gather(probability_number, probability, probability1:probability2) %>%
mutate(outcome_scaled = round(outcome / scaling_factor) + 32) %>%
select(-outcome) %>%
rename(outcome = outcome_scaled) %>%
spread(probability_number, probability) %>%
spread(outcome_number, outcome) %>%
gather(var, value, probability1:outcome2) %>%
unite(group, gamble:var) %>%
spread(group, value)
write.csv(d, 'gambles_scaled.csv', row.names = FALSE)
median(1:63)
library(tidyverse)
## the goal here is to take the gamble outcomes from pachur et al (on scale -100 to 100) and convert them to scale 1 to 63
d <- read.csv('gambles_formatted.csv')
head(d)
scaling_factor <- 1 / (31/100)
t <-  d %>%
gather(var, value, gamblea_outcome1:gambleb_probability2) %>%
separate(var, into = c('gamble', 'outcome'), sep = '_') %>%
spread(outcome, value) %>%
gather(outcome_number, outcome, outcome1:outcome2) %>%
gather(probability_number, probability, probability1:probability2) %>%
mutate(outcome_scaled = round(outcome / scaling_factor) + 32)
t$quick <- t$outcome_scaled-32
hist(t$quick)
range(t$quick)
q()
